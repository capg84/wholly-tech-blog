<html lang="en-gb">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wholly Tech Blog</title>
    <!-- adding bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./public/style.css" />
  </head>
  <body>
    <!-- navbar -->
    <div class="navbar">
      <div class="header">
        <h1>Wholly Tech Blog</h1>
      </div>
      <div class="navbar-btn">
        <h3>
          <a href="/" class="btn btn-primary sign-in-input-el" role="button"
            >Home</a
          >
        </h3>
        <h3>
          <a
            href="/api/blogs/dashboard"
            class="btn btn-primary sign-in-input-el"
            role="button"
            >Dashboard</a
          >
        </h3>
        <!-- {{#if logged_in}} -->
        <h3
          id="logout"
          href="/api/logout"
          class="btn btn-primary sign-in-input-el"
          role="button"
        >
          Logout
        </h3>
        <!-- {{else}} -->
        <h3>
          <a
            href="/login"
            class="btn btn-primary sign-in-input-el"
            role="button"
            >Login</a
          >
        </h3>
      </div>
    </div>
    <hr />
    <!-- main body to be rendered -->
    <main>
      <!-- dashboard -->
      <div class="new-button-div">
        <a id="save-blog-btn" class="btn btn-primary new-blog-el" role="button"
          >Add a Blog</a
        >
      </div>

      <!-- {{#each blogs as |blog|}} -->
      <section class="user-post border border-primary border-3">
        <div id="dashboard-blogs" class="post-header">
          <input
            type="hidden"
            id="blog_id"
            name="blog_id"
            value="{{blog.id}}"
          />
          <h3>
            <a href="/api/blogs/edit-blog/{{blog.id}}" class="nounderline"
              >{{blog.title}}</a
            >
          </h3>
          <h4>
            Posted by:
            <span id="blog-name">{{blog.user.username}}</span>
            on
            <span id="blog-date">{{format_date blog.date_created}}</span>
          </h4>
        </div>
      </section>
      <!-- {{/each}} -->
      <hr />
      <!-- sign-up form -->
      <section class="sign-up border border-primary border-3">
        <div class="sign-up-title">
          <h2>Wholly Tech Blog Sign UP</h2>
        </div>
        <form>
          <div class="row">
            <div class="col">
              <input
                type="text"
                class="form-control form-el"
                placeholder="First name"
              />
            </div>
            <div class="col">
              <input
                type="text"
                class="form-control form-el"
                placeholder="Last name"
              />
            </div>
          </div>
          <div class="row">
            <div class="col">
              <input
                type="text"
                class="form-control form-el"
                placeholder="Username"
              />
            </div>
            <div class="col">
              <input
                type="email"
                class="form-control form-el"
                placeholder="Email"
              />
            </div>
          </div>
          <div class="row">
            <div class="col">
              <input
                type="password"
                class="form-control form-el"
                placeholder="Passowrd"
              />
            </div>
            <div class="col">
              <input
                type="password"
                class="form-control form-el"
                placeholder="Confirm your password"
              />
            </div>
          </div>
          <button type="submit" class="btn btn-primary form-el" disabled>
            Submit
          </button>
        </form>
      </section>

      <hr />
      <!-- sing-in sign-up prompt -->
      <section class="loginPrompt border border-primary border-3">
        <div class="loginPromptprompt-header">
          <h3 class="loginPromptprompt-header-text">
            Already signed up? Just Sign in, otherwise please Sign up.
          </h3>
        </div>

        <div class="loginPromptBtns">
          <a href="/sign-up" class="btn btn-primary" role="button">Sign up</a>
          <a href="/sign-in" class="btn btn-primary" role="button">Sign in</a>
        </div>
      </section>

      <hr />

      <!-- sign-in-form -->
      <section class="sign-in border border-primary border-3">
        <div class="sign-in-title">
          <h2>Sign in</h2>
        </div>
        <div class="sign-in-input">
          <input
            class="form-control sign-in-input-el"
            id="email"
            type="text"
            placeholder="Email"
          />
          <input
            class="form-control sign-in-input-el"
            id="passsword"
            type="password"
            placeholder="password"
          />
          <a
            id="sign-in-btn"
            class="btn btn-primary sign-in-input-el"
            role="button"
            >Sign in</a
          >
        </div>
      </section>

      <hr />

      <!-- new blog -->
      <section class="blog border border-primary border-3">
        <div class="blog-title">
          <h2>Add a new blog</h2>
        </div>
        <hr />
        <div class="blog-text">
          <input
            id="blog-title "
            class="title form-control new-blog-el"
            type="text"
            placeholder="Blog title"
          />
          <textarea
            class="blog-textarea form-control new-blog-el"
            id="blog-input"
            type="text"
            placeholder="Write a new blog"
          ></textarea>
          <a
            id="save-blog-button"
            class="btn btn-primary new-blog-el"
            role="button"
            >Save Blog</a
          >
        </div>
      </section>

      <hr />

      <!-- edit blog -->
      <section class="user-post border border-primary border-3">
        <div class="post-header">
          <input
            type="hidden"
            id="blog_id"
            name="blog_id"
            value="{{blogs.id}}"
          />
          <h4>
            Posted by:
            <span id="blog-name">{{blogs.user.username}}</span>
            on
            <span id="blog-date">{{blogs.date_created}}</span>
          </h4>
        </div>

        <div class="post-text">
          <input
            class="input-title form-control new-blog-el"
            id="blog-title"
            type="text"
            value="{{blogs.title}}"
          />
          <textarea
            class="blog-textarea form-control new-blog-el"
            id="blog-text"
            type="text"
            value="{{blogs.blog}}"
          ></textarea>
        </div>

        <div class="comment-lower">
          <a
            id="update-comment"
            class="btn btn-primary new-blog-el"
            role="button"
            >Update</a
          >
          <a
            id="Delete-comment"
            class="btn btn-warning new-blog-el"
            role="button"
            >Delete</a
          >
        </div>
      </section>

      <!-- comment -->
      <hr />
      <section class="comment border border-3 border-primary">
        <div class="comment-header">
          <input
            type="hidden"
            id="comment_id"
            name="comment_id"
            value="{{blog_id}}"
          />
          <h3>
            Comment by:
            <span value="{{user.id}}" id="comment-name">{{user.username}}</span>
            on
            <span id="comment-date">{{date_created}}</span>
          </h3>
        </div>

        <div class="comment-text">
          <p id="comment-text">{{comment}}</p>
        </div>
        <div class="comment-lower">
          <a
            id="comment-btn"
            class="btn btn-primary new-blog-el"
            role="button"
            href="/api/comment/edit/{{id}}"
            >Edit Comment</a
          >
        </div>
      </section>

      <hr />
      <!-- edit comment -->
      <section class="user-post border border-primary border-3">
        <div class="post-header">
          <input
            type="hidden"
            id="user_id"
            name="user_id"
            value="{{comments.user.id}}"
          />
          <input
            type="hidden"
            id="blog_id"
            name="blog_id"
            value="{{comments.blog_id}}"
          />
          <h4>
            Posted by:
            <span id="blog-name">{{comments.user.username}}</span>
            on
            <span id="blog-date">{{comments.date_created}}</span>
          </h4>
        </div>

        <div class="post-text">
          <textarea
            class="input-text form-control"
            id="comment-text"
            type="text"
          >
{{comments.comment}}</textarea
          >
        </div>

        <div class="comment-lower">
          <a
            id="update"
            class="btn btn-primary new-blog-el"
            role="button"
            value="{{comments.id}}"
            >Update Comment</a
          >
          <a
            id="delete"
            class="btn btn-warning new-blog-el"
            role="button"
            value="{{comments.id}}"
            >Delete Comment</a
          >
        </div>
      </section>

      <hr />
      <!-- new comment -->
      <section class="blog border border-primary border-3">
        <div class="blog-title">
          <h2>Add a comment</h2>
        </div>
        <div class="blog-text">
          <input
            type="hidden"
            id="user_id"
            name="user_id"
            value="{{blogs.user_id}}"
          />
          <input
            type="hidden"
            id="blog_id"
            name="blog_id"
            value="{{blogs.id}}"
          />
          <textarea
            class="blog-textarea"
            id="comment-input"
            type="text"
            placeholder="Write a new comment"
          ></textarea>
          <a
            id="add-comment-btn"
            class="btn btn-primary new-blog-el"
            role="button"
            >Add Comment</a
          >
        </div>
      </section>
      <hr />
      <!-- saved blogs -->
      <section class="user-post border border-primary border-3">
        <div class="post-header">
          <input
            type="hidden"
            id="blog_id"
            name="blog_id"
            value="{{blog.id}}"
          />
          <h3>
            <a href="/api/comment/{{blog.id}}" class="nounderline"
              >{{blog.title}}</a
            >
          </h3>
          <h4>
            Posted by:
            <span id="blog-name">{{blog.user.username}}</span>
            on
            <span id="blog-date">{{format_date blog.date_created}}</span>
          </h4>
        </div>

        <div class="post-text">
          <p id="blog-text">{{blog.blog}}</p>
        </div>

        <div class="comment-lower">
          <a id="commentBtn" class="btn btn-primary new-blog-el" role="button"
            >Add Comment</a
          >
        </div>
      </section>
    </main>
    <hr />

    <!-- footer -->
    <footer>
      <hr />
      <p>Wholly Tech Blog</p>
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
    <script src="./public/js/sign-up.js"></script>
  </body>
</html>
